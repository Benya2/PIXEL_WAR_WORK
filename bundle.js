function _0x28e4(_0x35705c,_0x1d2ef4){const _0xe5b132=_0xe5b1();return _0x28e4=function(_0x28e464,_0x5a5327){_0x28e464=_0x28e464-0x1bb;let _0x467543=_0xe5b132[_0x28e464];return _0x467543;},_0x28e4(_0x35705c,_0x1d2ef4);}const _0x3d6457=_0x28e4;(function(_0x50df96,_0xd164dd){const _0x201ab6=_0x28e4,_0x1eb519=_0x50df96();while(!![]){try{const _0x1c634f=-parseInt(_0x201ab6(0x1f1))/0x1*(-parseInt(_0x201ab6(0x25c))/0x2)+parseInt(_0x201ab6(0x238))/0x3+parseInt(_0x201ab6(0x223))/0x4+parseInt(_0x201ab6(0x1c2))/0x5+-parseInt(_0x201ab6(0x20d))/0x6+-parseInt(_0x201ab6(0x221))/0x7+-parseInt(_0x201ab6(0x241))/0x8;if(_0x1c634f===_0xd164dd)break;else _0x1eb519['push'](_0x1eb519['shift']());}catch(_0x4ad13c){_0x1eb519['push'](_0x1eb519['shift']());}}}(_0xe5b1,0x950e9));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js';import{getFirestore,collection,doc,setDoc,onSnapshot,deleteDoc,getDocs}from'https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js';import{getDatabase,ref,remove}from'https://www.gstatic.com/firebasejs/11.2.0/firebase-database.js';import{getAuth,onAuthStateChanged,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut}from'https://www.gstatic.com/firebasejs/11.2.0/firebase-auth.js';const firebaseConfig={'apiKey':_0x3d6457(0x25f),'authDomain':_0x3d6457(0x25a),'projectId':_0x3d6457(0x222),'storageBucket':_0x3d6457(0x25b),'messagingSenderId':_0x3d6457(0x1e1),'appId':_0x3d6457(0x20e)},app=initializeApp(firebaseConfig),db=getFirestore(app),rtdb=getDatabase(app),auth=getAuth(app),coordsDisplayEl=document['getElementById'](_0x3d6457(0x244)),colorsChoiceEl=document[_0x3d6457(0x23a)](_0x3d6457(0x1fb)),paletteToggle=document[_0x3d6457(0x23a)](_0x3d6457(0x248)),game=document[_0x3d6457(0x23a)](_0x3d6457(0x1ec)),ctx=game['getContext']('2d'),cursor=document[_0x3d6457(0x23a)](_0x3d6457(0x234)),reloadTimerEl=document[_0x3d6457(0x23a)](_0x3d6457(0x1c9)),adminPanel=document[_0x3d6457(0x23a)](_0x3d6457(0x20c)),clearAllPixelsBtn=document[_0x3d6457(0x23a)]('clearAllPixels'),banUserBtn=document[_0x3d6457(0x23a)]('banUser'),authButton=document[_0x3d6457(0x23a)](_0x3d6457(0x1ea)),coordsInput=document[_0x3d6457(0x23a)](_0x3d6457(0x1cc)),addPixelBtn=document['getElementById'](_0x3d6457(0x1ee)),removePixelBtn=document['getElementById'](_0x3d6457(0x1e6)),teleportInput=document[_0x3d6457(0x23a)](_0x3d6457(0x201)),teleportBtn=document[_0x3d6457(0x23a)](_0x3d6457(0x1bc));teleportBtn[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),()=>{const _0x2ace77=_0x3d6457;if(!auth[_0x2ace77(0x240)]||auth['currentUser'][_0x2ace77(0x209)]!==_0x2ace77(0x255))return alert(_0x2ace77(0x1eb));const _0x20b349=teleportInput[_0x2ace77(0x1ed)][_0x2ace77(0x20a)]();if(!_0x20b349)return;const [_0x510fd4,_0x5b287b]=_0x20b349[_0x2ace77(0x216)](/\s+/),_0x30008a=parseInt(_0x510fd4),_0x3f3063=parseInt(_0x5b287b);if(Number[_0x2ace77(0x202)](_0x30008a)||Number[_0x2ace77(0x202)](_0x3f3063))return alert(_0x2ace77(0x1c4));const _0x33a460=_0x30008a*gridCellSize,_0x46ba6a=_0x3f3063*gridCellSize;camX=_0x33a460-game[_0x2ace77(0x1e9)]/0x2/scale,camY=_0x46ba6a-game[_0x2ace77(0x1c6)]/0x2/scale,renderAll();}),ctx[_0x3d6457(0x1ff)]=![];const gridCellSize=0xa;game[_0x3d6457(0x1e9)]=0x4b0,game['height']=0x258;let currentColor=_0x3d6457(0x252),canPlace=!![];const reloadTime=0x5,colors=[_0x3d6457(0x21a),_0x3d6457(0x21f),'rgb(228,\x20228,\x20228)',_0x3d6457(0x214),'rgb(196,\x20196,\x20196)','rgb(255,\x20248,\x20137)',_0x3d6457(0x23b),'rgb(229,\x20217,\x200)',_0x3d6457(0x239),_0x3d6457(0x1de),_0x3d6457(0x1d0),_0x3d6457(0x226),_0x3d6457(0x256),_0x3d6457(0x21b),_0x3d6457(0x1d9),_0x3d6457(0x1be),'rgb(255,\x2084,\x20178)','rgb(202,\x20227,\x20255)',_0x3d6457(0x1e4),'rgb(0,\x20211,\x20221)',_0x3d6457(0x1fd),_0x3d6457(0x236),_0x3d6457(0x220),_0x3d6457(0x1d7),'rgb(254,\x20164,\x2096)','rgb(25,\x2025,\x20115)',_0x3d6457(0x205),_0x3d6457(0x213),_0x3d6457(0x1bd),'rgb(130,\x200,\x20128)'];colorsChoiceEl[_0x3d6457(0x24f)]='',colors[_0x3d6457(0x215)](_0x548c58=>{const _0x5cfaba=_0x3d6457,_0x48fc1e=document[_0x5cfaba(0x251)](_0x5cfaba(0x24d));_0x48fc1e[_0x5cfaba(0x1f5)][_0x5cfaba(0x23f)]=_0x548c58,_0x48fc1e['addEventListener'](_0x5cfaba(0x1d1),()=>{const _0x16a550=_0x5cfaba;currentColor=_0x548c58,document[_0x16a550(0x1d5)](_0x16a550(0x232))[_0x16a550(0x215)](_0x12fc1f=>_0x12fc1f['classList'][_0x16a550(0x245)](_0x16a550(0x1c3))),_0x48fc1e[_0x16a550(0x1d2)][_0x16a550(0x22f)](_0x16a550(0x1c3));}),colorsChoiceEl[_0x5cfaba(0x1d8)](_0x48fc1e);});const colorsChoice=document[_0x3d6457(0x23a)](_0x3d6457(0x1fb)),togglePalette=document['getElementById'](_0x3d6457(0x1fe));togglePalette[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),()=>{const _0x87f05e=_0x3d6457;colorsChoice[_0x87f05e(0x1f5)][_0x87f05e(0x25d)]===_0x87f05e(0x1df)?colorsChoice[_0x87f05e(0x1f5)]['display']=_0x87f05e(0x212):colorsChoice[_0x87f05e(0x1f5)][_0x87f05e(0x25d)]=_0x87f05e(0x1df);});const worldMap=new Image();worldMap[_0x3d6457(0x211)]=_0x3d6457(0x233);const SCALE_TILE=0x64;let WORLD_W=0x4e20*SCALE_TILE,WORLD_H=0x4e20*SCALE_TILE,camX=0x0,camY=0x0,scale=0x1;const MIN_SCALE=0.005,MAX_SCALE=0x6;let isPanning=![],lastMouseX=0x0,lastMouseY=0x0;function clamp(_0x374a3a,_0xa7ead,_0x2b0e61){const _0x2b9e87=_0x3d6457;return Math['max'](_0xa7ead,Math[_0x2b9e87(0x207)](_0x2b0e61,_0x374a3a));}function screenToWorld(_0x3205b8,_0x3a8721){const _0x3be879=_0x3d6457,_0x49c80d=game[_0x3be879(0x1d4)](),_0x1f3788=(_0x3205b8-_0x49c80d[_0x3be879(0x24a)])/scale+camX,_0x5ee0b9=(_0x3a8721-_0x49c80d[_0x3be879(0x204)])/scale+camY;return[_0x1f3788,_0x5ee0b9];}function snapToGrid(_0x49cb2f,_0x22383b){const _0x14f9a8=_0x3d6457;return[Math[_0x14f9a8(0x21d)](_0x49cb2f/gridCellSize)*gridCellSize,Math[_0x14f9a8(0x21d)](_0x22383b/gridCellSize)*gridCellSize];}let hoverCellX=0x0,hoverCellY=0x0;const pixelsCache=new Map();let markers=[];function updateCoordsDisplay(){const _0x2852f4=_0x3d6457;if(!coordsDisplayEl)return;const _0x2e9a2b=Math['floor'](hoverCellX/gridCellSize),_0x4800cf=Math[_0x2852f4(0x21d)](hoverCellY/gridCellSize);coordsDisplayEl[_0x2852f4(0x1fa)]=_0x2852f4(0x260)+_0x2e9a2b+'\x20\x20Y:\x20'+_0x4800cf;}const TILE_SIZE=0x3e8;let tiles=[];const offscreenCanvas=document[_0x3d6457(0x251)](_0x3d6457(0x257));offscreenCanvas[_0x3d6457(0x1e9)]=TILE_SIZE,offscreenCanvas[_0x3d6457(0x1c6)]=TILE_SIZE;const offCtx=offscreenCanvas[_0x3d6457(0x246)]('2d',{'willReadFrequently':!![]});offCtx['imageSmoothingEnabled']=![],worldMap['onload']=()=>{const _0x8d1f45=_0x3d6457,_0x4452c9=worldMap[_0x8d1f45(0x1da)]||0x4e20,_0xb20d62=worldMap[_0x8d1f45(0x218)]||0x4e20;WORLD_W=_0x4452c9*SCALE_TILE,WORLD_H=_0xb20d62*SCALE_TILE;const _0x49ef76=Math[_0x8d1f45(0x1ce)](_0x4452c9/TILE_SIZE),_0x510b73=Math[_0x8d1f45(0x1ce)](_0xb20d62/TILE_SIZE);tiles=[];for(let _0xdb5773=0x0;_0xdb5773<_0x49ef76;_0xdb5773++){for(let _0x556150=0x0;_0x556150<_0x510b73;_0x556150++){const _0x4eab3c=_0xdb5773*TILE_SIZE,_0x362167=_0x556150*TILE_SIZE,_0x2ba04d=Math[_0x8d1f45(0x207)](TILE_SIZE,_0x4452c9-_0x4eab3c),_0x1dfafc=Math['min'](TILE_SIZE,_0xb20d62-_0x362167);offCtx['clearRect'](0x0,0x0,TILE_SIZE,TILE_SIZE),offCtx[_0x8d1f45(0x1c5)](worldMap,_0x4eab3c,_0x362167,_0x2ba04d,_0x1dfafc,0x0,0x0,_0x2ba04d,_0x1dfafc);const _0x1d3af6=new Image();_0x1d3af6[_0x8d1f45(0x211)]=offscreenCanvas[_0x8d1f45(0x22c)](_0x8d1f45(0x23e));const _0x538161=_0x4eab3c*SCALE_TILE,_0x5f20bf=_0x362167*SCALE_TILE,_0x2e916c=_0x2ba04d*SCALE_TILE,_0x1208cb=_0x1dfafc*SCALE_TILE;tiles[_0x8d1f45(0x1fc)]({'img':_0x1d3af6,'dx':_0x538161,'dy':_0x5f20bf,'dw':_0x2e916c,'dh':_0x1208cb});}}renderAll();};function renderAll(){const _0x2729d9=_0x3d6457;ctx[_0x2729d9(0x1ff)]=![],ctx['setTransform'](0x1,0x0,0x0,0x1,0x0,0x0),ctx['clearRect'](0x0,0x0,game[_0x2729d9(0x1e9)],game['height']),ctx['setTransform'](scale,0x0,0x0,scale,-camX*scale,-camY*scale);const _0x571319=camX,_0x3cf6d3=camY,_0x5628a3=camX+game[_0x2729d9(0x1e9)]/scale,_0x23480a=camY+game[_0x2729d9(0x1c6)]/scale;for(const _0x32785b of tiles){if(_0x32785b['dx']+_0x32785b['dw']<_0x571319||_0x32785b['dx']>_0x5628a3||_0x32785b['dy']+_0x32785b['dh']<_0x3cf6d3||_0x32785b['dy']>_0x23480a)continue;_0x32785b[_0x2729d9(0x208)][_0x2729d9(0x247)]&&_0x32785b[_0x2729d9(0x208)][_0x2729d9(0x1da)]?ctx[_0x2729d9(0x1c5)](_0x32785b[_0x2729d9(0x208)],_0x32785b['dx'],_0x32785b['dy'],_0x32785b['dw'],_0x32785b['dh']):(ctx[_0x2729d9(0x259)]='#eef6ff',ctx[_0x2729d9(0x242)](_0x32785b['dx'],_0x32785b['dy'],_0x32785b['dw'],_0x32785b['dh']));}ctx['beginPath'](),ctx['strokeStyle']=_0x2729d9(0x22e);let _0x420be7=Math[_0x2729d9(0x21d)](_0x571319/gridCellSize)*gridCellSize;for(let _0x5846c2=_0x420be7;_0x5846c2<=_0x5628a3;_0x5846c2+=gridCellSize){ctx[_0x2729d9(0x210)](_0x5846c2,_0x3cf6d3),ctx['lineTo'](_0x5846c2,_0x23480a);}let _0x438acc=Math[_0x2729d9(0x21d)](_0x3cf6d3/gridCellSize)*gridCellSize;for(let _0x4300a3=_0x438acc;_0x4300a3<=_0x23480a;_0x4300a3+=gridCellSize){ctx[_0x2729d9(0x210)](_0x571319,_0x4300a3),ctx[_0x2729d9(0x231)](_0x5628a3,_0x4300a3);}ctx[_0x2729d9(0x23d)](),pixelsCache[_0x2729d9(0x215)](_0x10e1c2=>{const _0x7e8950=_0x2729d9;_0x10e1c2[_0x7e8950(0x1e7)]!==_0x7e8950(0x229)&&(ctx['fillStyle']=_0x10e1c2[_0x7e8950(0x1e7)],ctx[_0x7e8950(0x242)](_0x10e1c2['x'],_0x10e1c2['y'],gridCellSize,gridCellSize));}),ctx['fillStyle']='rgba(255,0,0,0.5)';for(const [_0x7ea2e5,_0x1ec686]of markers){ctx[_0x2729d9(0x242)](_0x7ea2e5,_0x1ec686,gridCellSize,gridCellSize);}ctx[_0x2729d9(0x259)]='rgba(0,0,0,0.12)',ctx[_0x2729d9(0x242)](hoverCellX,hoverCellY,gridCellSize,gridCellSize),ctx[_0x2729d9(0x1f8)](0x1,0x0,0x0,0x1,0x0,0x0);}onSnapshot(collection(db,_0x3d6457(0x20b)),_0x370dbf=>{const _0x32af98=_0x3d6457;pixelsCache['clear'](),_0x370dbf[_0x32af98(0x215)](_0x4a3d14=>{const _0x2619da=_0x32af98,_0x8cd7a=_0x4a3d14[_0x2619da(0x249)]();pixelsCache[_0x2619da(0x224)](_0x8cd7a['x']+'-'+_0x8cd7a['y'],_0x8cd7a);}),renderAll();}),game[_0x3d6457(0x1f7)](_0x3d6457(0x1dd),_0x832364=>{const _0x48def6=_0x3d6457;(_0x832364[_0x48def6(0x1d6)]===0x1||_0x832364[_0x48def6(0x1d6)]===0x2||_0x832364['shiftKey']||_0x832364['ctrlKey']||_0x832364[_0x48def6(0x1f6)]||_0x832364['altKey'])&&(isPanning=!![],lastMouseX=_0x832364[_0x48def6(0x1cf)],lastMouseY=_0x832364[_0x48def6(0x1d3)],_0x832364[_0x48def6(0x24c)]());}),window[_0x3d6457(0x1f7)](_0x3d6457(0x21e),()=>{isPanning=![];}),game[_0x3d6457(0x1f7)](_0x3d6457(0x1f0),_0x4c37d3=>_0x4c37d3['preventDefault']()),game[_0x3d6457(0x1f7)](_0x3d6457(0x22d),_0x3e8c5c=>{const _0x289f36=_0x3d6457;if(isPanning){const _0x2561d2=_0x3e8c5c[_0x289f36(0x1cf)]-lastMouseX,_0x43b34f=_0x3e8c5c[_0x289f36(0x1d3)]-lastMouseY;camX-=_0x2561d2/scale,camY-=_0x43b34f/scale,lastMouseX=_0x3e8c5c[_0x289f36(0x1cf)],lastMouseY=_0x3e8c5c['clientY'],renderAll();}const [_0x55a383,_0x2b18c2]=screenToWorld(_0x3e8c5c[_0x289f36(0x1cf)],_0x3e8c5c[_0x289f36(0x1d3)]);[hoverCellX,hoverCellY]=snapToGrid(_0x55a383,_0x2b18c2),updateCoordsDisplay(),renderAll();}),game[_0x3d6457(0x1f7)](_0x3d6457(0x253),_0x37924f=>{const _0x44e6ce=_0x3d6457;_0x37924f['preventDefault']();const _0x94827f=1.1,[_0x40e7b2,_0x1458d0]=screenToWorld(_0x37924f[_0x44e6ce(0x1cf)],_0x37924f[_0x44e6ce(0x1d3)]),_0x432605=_0x37924f[_0x44e6ce(0x227)]<0x0?0x1:-0x1,_0x3df37b=clamp(scale*(_0x432605>0x0?_0x94827f:0x1/_0x94827f),MIN_SCALE,MAX_SCALE);if(_0x3df37b===scale)return;scale=_0x3df37b;const _0x3eb366=game[_0x44e6ce(0x1d4)]();camX=_0x40e7b2-(_0x37924f[_0x44e6ce(0x1cf)]-_0x3eb366[_0x44e6ce(0x24a)])/scale,camY=_0x1458d0-(_0x37924f['clientY']-_0x3eb366[_0x44e6ce(0x204)])/scale;const [_0x2a0bb2,_0x466e1c]=screenToWorld(_0x37924f[_0x44e6ce(0x1cf)],_0x37924f['clientY']);[hoverCellX,hoverCellY]=snapToGrid(_0x2a0bb2,_0x466e1c),updateCoordsDisplay(),renderAll();},{'passive':![]});async function placePixelWithHover(){const _0x7abd2b=_0x3d6457;if(!auth['currentUser'])return alert(_0x7abd2b(0x1f9));if(!canPlace)return;canPlace=![];const _0x959030=hoverCellX,_0x1aa45f=hoverCellY,_0x365c18=doc(db,_0x7abd2b(0x20b),_0x959030+'-'+_0x1aa45f);try{if(currentColor===_0x7abd2b(0x229))await deleteDoc(_0x365c18);else await setDoc(_0x365c18,{'x':_0x959030,'y':_0x1aa45f,'color':currentColor});}catch(_0x3ea9c6){console[_0x7abd2b(0x1e5)](_0x3ea9c6);}startReload();}game['addEventListener']('click',_0x58bef8=>{const _0x30efaa=_0x3d6457;if(isPanning||_0x58bef8[_0x30efaa(0x1d6)]!==0x0)return;placePixelWithHover();});if(cursor)cursor[_0x3d6457(0x1f5)][_0x3d6457(0x25d)]=_0x3d6457(0x1df);function startReload(){const _0x719cec=_0x3d6457;let _0x42bf26=reloadTime;reloadTimerEl[_0x719cec(0x22a)]='Reload:\x20'+_0x42bf26+_0x719cec(0x235);const _0x585199=setInterval(()=>{const _0x4d22a7=_0x719cec;_0x42bf26--;if(_0x42bf26<=0x0)clearInterval(_0x585199),canPlace=!![],reloadTimerEl[_0x4d22a7(0x22a)]=_0x4d22a7(0x219);else reloadTimerEl['innerText']=_0x4d22a7(0x1db)+_0x42bf26+_0x4d22a7(0x235);},0x3e8);}authButton[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),async()=>{const _0xdbecfd=_0x3d6457;if(auth['currentUser']){await signOut(auth);return;}const _0x131ff8=prompt('Enter\x201\x20to\x20sign\x20in,\x20or\x202\x20to\x20create\x20a\x20new\x20account:');if(!_0x131ff8||_0x131ff8!=='1'&&_0x131ff8!=='2')return;const _0x9050d8=prompt(_0xdbecfd(0x1c8)),_0x43de12=prompt(_0xdbecfd(0x217));if(!_0x9050d8||!_0x43de12)return;try{_0x131ff8==='1'?(await signInWithEmailAndPassword(auth,_0x9050d8,_0x43de12),alert(_0xdbecfd(0x203))):(await createUserWithEmailAndPassword(auth,_0x9050d8,_0x43de12),alert('Account\x20created!'));}catch(_0x4ab0db){alert(_0x4ab0db[_0xdbecfd(0x1c7)]);}}),onAuthStateChanged(auth,_0x5912bc=>{const _0x243f11=_0x3d6457;_0x5912bc?(authButton['textContent']='Log\x20Out',_0x5912bc['email']===_0x243f11(0x255)?adminPanel[_0x243f11(0x1f5)][_0x243f11(0x25d)]=_0x243f11(0x24b):adminPanel[_0x243f11(0x1f5)][_0x243f11(0x25d)]=_0x243f11(0x1df)):(authButton['textContent']=_0x243f11(0x23c),adminPanel[_0x243f11(0x1f5)][_0x243f11(0x25d)]=_0x243f11(0x1df));});function parseCoords(){const _0x4cbeee=_0x3d6457;markers=[];const _0x55249b=coordsInput[_0x4cbeee(0x1ed)][_0x4cbeee(0x20a)]();if(!_0x55249b){renderAll();return;}_0x55249b[_0x4cbeee(0x216)](',')[_0x4cbeee(0x215)](_0x59cca4=>{const _0x522d39=_0x4cbeee,[_0x36bc78,_0x319e54,_0x4d9624,_0x597856]=_0x59cca4[_0x522d39(0x20a)]()[_0x522d39(0x216)](/\s+/),_0x560862=parseInt(_0x36bc78),_0x2b78c4=parseInt(_0x319e54),_0x493f6f=parseInt(_0x4d9624||'1'),_0x23dd95=parseInt(_0x597856||'1');if(Number[_0x522d39(0x202)](_0x560862)||Number[_0x522d39(0x202)](_0x2b78c4)||Number[_0x522d39(0x202)](_0x493f6f)||Number[_0x522d39(0x202)](_0x23dd95))return;const _0x598046=_0x560862*gridCellSize,_0x38c89e=_0x2b78c4*gridCellSize;for(let _0x4c3e74=0x0;_0x4c3e74<_0x493f6f;_0x4c3e74++){for(let _0x20bc06=0x0;_0x20bc06<_0x23dd95;_0x20bc06++){const _0x2ddeb6=_0x598046+_0x4c3e74*gridCellSize,_0x2ce39e=_0x38c89e+_0x20bc06*gridCellSize;_0x2ddeb6>=0x0&&_0x2ce39e>=0x0&&_0x2ddeb6<=WORLD_W-gridCellSize&&_0x2ce39e<=WORLD_H-gridCellSize&&markers['push']([_0x2ddeb6,_0x2ce39e]);}}}),renderAll();}const upBtn=document['getElementById'](_0x3d6457(0x1f3)),downBtn=document[_0x3d6457(0x23a)](_0x3d6457(0x1cd)),leftBtn=document[_0x3d6457(0x23a)](_0x3d6457(0x237)),rightBtn=document[_0x3d6457(0x23a)](_0x3d6457(0x1e2)),zoomInBtn=document[_0x3d6457(0x23a)](_0x3d6457(0x21c)),zoomOutBtn=document[_0x3d6457(0x23a)](_0x3d6457(0x1ca)),moveSpeed=0x32,zoomFactorBtn=1.2;function moveCamera(_0x9b2546,_0xbbee7b){camX+=_0x9b2546/scale,camY+=_0xbbee7b/scale,renderAll();}upBtn[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),()=>moveCamera(0x0,-moveSpeed)),downBtn[_0x3d6457(0x1f7)]('click',()=>moveCamera(0x0,moveSpeed)),leftBtn[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),()=>moveCamera(-moveSpeed,0x0)),rightBtn[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),()=>moveCamera(moveSpeed,0x0)),zoomInBtn[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),()=>{const _0x461365=clamp(scale*zoomFactorBtn,MIN_SCALE,MAX_SCALE);scale=_0x461365,renderAll();}),zoomOutBtn[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),()=>{const _0x3d6dd7=clamp(scale/zoomFactorBtn,MIN_SCALE,MAX_SCALE);scale=_0x3d6dd7,renderAll();}),coordsInput['addEventListener'](_0x3d6457(0x22b),parseCoords);async function adminApplyPixels(_0x4cf6b6){const _0x42f815=_0x3d6457;if(!auth['currentUser']||auth[_0x42f815(0x240)]['email']!==_0x42f815(0x255))return alert(_0x42f815(0x1eb));parseCoords();let _0x5e3d37=0x0;for(const [_0x323529,_0x3e46cf]of markers){const _0x15b019=doc(db,'pixels',_0x323529+'-'+_0x3e46cf);_0x4cf6b6===_0x42f815(0x22f)?(await setDoc(_0x15b019,{'x':_0x323529,'y':_0x3e46cf,'color':currentColor}),_0x5e3d37++):(await deleteDoc(_0x15b019),_0x5e3d37++);}alert((_0x4cf6b6==='add'?'Добавлено':_0x42f815(0x261))+'\x20пикселей:\x20'+_0x5e3d37);}addPixelBtn['addEventListener'](_0x3d6457(0x1d1),()=>adminApplyPixels(_0x3d6457(0x22f))),removePixelBtn[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),()=>adminApplyPixels(_0x3d6457(0x245))),clearAllPixelsBtn[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),async()=>{const _0x4c99ca=_0x3d6457;if(!auth[_0x4c99ca(0x240)])return alert(_0x4c99ca(0x1eb));const _0x31f418=await getDocs(collection(db,_0x4c99ca(0x20b)));_0x31f418[_0x4c99ca(0x215)](_0x4ace14=>deleteDoc(_0x4ace14[_0x4c99ca(0x24e)]));}),banUserBtn[_0x3d6457(0x1f7)](_0x3d6457(0x1d1),()=>{const _0x4d88ec=_0x3d6457;if(!auth[_0x4d88ec(0x240)])return alert('Только\x20админ!');const _0x51c01e=prompt('Введите\x20UserID\x20для\x20бана:');if(!_0x51c01e)return;const _0x96d587=ref(rtdb,_0x4d88ec(0x1f2)+_0x51c01e);remove(_0x96d587)[_0x4d88ec(0x228)](()=>alert(_0x4d88ec(0x1e8)))[_0x4d88ec(0x225)](_0x3ecca4=>console['error'](_0x3ecca4));});import{onDisconnect,set}from'https://www.gstatic.com/firebasejs/11.2.0/firebase-database.js';function trackOnlinePlayer(){const _0x2f585b=_0x3d6457;if(!auth[_0x2f585b(0x240)])return;const _0x327b87=auth[_0x2f585b(0x240)][_0x2f585b(0x258)],_0x4727da=ref(rtdb,_0x2f585b(0x1f2)+_0x327b87);set(_0x4727da,{'email':auth['currentUser'][_0x2f585b(0x209)],'lastSeen':Date['now']()}),onDisconnect(_0x4727da)['remove']();}onAuthStateChanged(auth,_0x559d23=>{_0x559d23&&trackOnlinePlayer();});function updateOnlinePlayers(){const _0x569a59=_0x3d6457,_0x239a2b=ref(rtdb,_0x569a59(0x1f2));onValue(_0x239a2b,_0x523b36=>{const _0x3bd0c1=_0x569a59,_0x250a9c=_0x523b36[_0x3bd0c1(0x1e0)](),_0x19b389=_0x250a9c?Object['keys'](_0x250a9c)[_0x3bd0c1(0x1bf)]:0x0;onlinePlayersEl[_0x3bd0c1(0x22a)]=_0x3bd0c1(0x230)+_0x19b389;});}updateOnlinePlayers();const overlay=document['getElementById'](_0x3d6457(0x25e)),fileInput=document[_0x3d6457(0x23a)]('templateFile'),opacityRange=document[_0x3d6457(0x23a)]('opacityRange'),coordX=document[_0x3d6457(0x23a)](_0x3d6457(0x1c0)),coordY=document['getElementById']('coordY'),applyCoordsBtn=document['getElementById'](_0x3d6457(0x254)),toggleBtn=document[_0x3d6457(0x23a)](_0x3d6457(0x243));let templateX=0x0,templateY=0x0,templateOpacity=0.5,templateVisible=!![];fileInput['addEventListener'](_0x3d6457(0x1c1),_0x5665b5=>{const _0x435db7=_0x3d6457,_0x41626f=_0x5665b5[_0x435db7(0x1e3)][_0x435db7(0x1ef)][0x0];if(!_0x41626f)return;const _0x3d82dd=new FileReader();_0x3d82dd[_0x435db7(0x1cb)]=_0x589d7e=>{const _0x4229c0=_0x435db7;overlay['src']=_0x589d7e[_0x4229c0(0x1e3)][_0x4229c0(0x1f4)],overlay[_0x4229c0(0x1f5)]['display']=_0x4229c0(0x24b);},_0x3d82dd[_0x435db7(0x200)](_0x41626f);}),opacityRange[_0x3d6457(0x1f7)](_0x3d6457(0x22b),()=>{const _0xdc4ab6=_0x3d6457;templateOpacity=opacityRange[_0xdc4ab6(0x1ed)],overlay[_0xdc4ab6(0x1f5)][_0xdc4ab6(0x206)]=templateOpacity;}),applyCoordsBtn['addEventListener'](_0x3d6457(0x1d1),()=>{const _0x2a09ce=_0x3d6457;templateX=parseInt(coordX[_0x2a09ce(0x1ed)])||0x0,templateY=parseInt(coordY[_0x2a09ce(0x1ed)])||0x0,updateTemplatePosition();}),toggleBtn[_0x3d6457(0x1f7)]('click',()=>{const _0x3a103c=_0x3d6457;templateVisible=!templateVisible,overlay[_0x3a103c(0x1f5)]['display']=templateVisible?_0x3a103c(0x24b):_0x3a103c(0x1df);});function updateTemplatePosition(){const _0x4c3f3e=_0x3d6457;overlay['style'][_0x4c3f3e(0x20f)]='translate('+(-camX*scale+templateX)+_0x4c3f3e(0x1bb)+(-camY*scale+templateY)+_0x4c3f3e(0x1dc)+scale+')',overlay[_0x4c3f3e(0x1f5)][_0x4c3f3e(0x250)]='top\x20left';}const oldRenderAll=renderAll;renderAll=function(){oldRenderAll();if(overlay['src'])updateTemplatePosition();};function _0xe5b1(){const _0x3c0c78=['rgb(244,\x20179,\x20174)','canvas','uid','fillStyle','pixellox.firebaseapp.com','pixellox.firebasestorage.app','621144KWovYQ','display','overlayTemplate','AIzaSyCwy4jVn9JIwXuIXVycYAv9EdPGPkgIJvA','X:\x20','Удалено','px,\x20','teleportBtn','rgb(160,\x20106,\x2066)','rgb(0,\x20101,\x2019)','length','coordX','change','2007355zAvjDb','selected','Введите\x20корректные\x20координаты\x20X\x20Y','drawImage','height','message','Email:','reloadTimer','zoomOutBtn','onload','coordsInput','downBtn','ceil','clientX','rgb(0,\x200,\x200)','click','classList','clientY','getBoundingClientRect','querySelectorAll','button','rgb(0,\x200,\x20234)','appendChild','rgb(255,\x20167,\x20209)','naturalWidth','Reload:\x20','px)\x20scale(','mousedown','rgb(148,\x20224,\x2068)','none','val','461991610382','rightBtn','target','rgb(255,\x20101,\x20101)','error','removePixelBtn','color','Пользователь\x20забанен!','width','authButton','Только\x20админ!','game','value','addPixelBtn','files','contextmenu','2SWqpbt','users/','upBtn','result','style','metaKey','addEventListener','setTransform','Login\x20to\x20draw!','textContent','colorsChoice','push','rgb(229,\x200,\x200)','togglePalette','imageSmoothingEnabled','readAsDataURL','teleportInput','isNaN','Come\x20in!','top','rgb(229,\x20149,\x200)','opacity','min','img','email','trim','pixels','adminPanel','394356wcSiJj','1:461991610382:web:2a5ae293dde4a754c2d45f','transform','moveTo','src','grid','rgb(207,\x20110,\x20228)','rgb(245,\x20223,\x20176)','forEach','split','Password:','naturalHeight','Ready!','rgb(255,\x20255,\x20255)','rgb(104,\x20131,\x2056)','zoomInBtn','floor','mouseup','rgb(96,\x2064,\x2040)','rgb(154,\x200,\x200)','426755WreziQ','pixellox','2297732AMndOm','set','catch','rgb(2,\x20190,\x201)','deltaY','then','#FFFFFF','innerText','input','toDataURL','mousemove','#ccc','add','Online\x20players:\x20','lineTo','#colorsChoice\x20div','world.png','cursor','\x20sec','rgb(0,\x20131,\x20199)','leftBtn','1699356wKJIUQ','rgb(78,\x2078,\x2078)','getElementById','rgb(136,\x20136,\x20136)','Log\x20In','stroke','image/png','backgroundColor','currentUser','11410176YeglUt','fillRect','toggleBtn','coordsDisplay','remove','getContext','complete','paletteToggle','data','left','block','preventDefault','div','ref','innerHTML','transformOrigin','createElement','#000000','wheel','applyCoords','logo100153@gmail.com'];_0xe5b1=function(){return _0x3c0c78;};return _0xe5b1();}
