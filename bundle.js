const _0x678c9d=_0x5ed0;(function(_0xb3c447,_0x1c58a8){const _0x51f579=_0x5ed0,_0x33731f=_0xb3c447();while(!![]){try{const _0xa1b8e4=-parseInt(_0x51f579(0x192))/0x1*(-parseInt(_0x51f579(0x116))/0x2)+-parseInt(_0x51f579(0x10f))/0x3+-parseInt(_0x51f579(0x199))/0x4+parseInt(_0x51f579(0x133))/0x5+parseInt(_0x51f579(0x18e))/0x6+-parseInt(_0x51f579(0x177))/0x7*(-parseInt(_0x51f579(0x143))/0x8)+parseInt(_0x51f579(0x134))/0x9;if(_0xa1b8e4===_0x1c58a8)break;else _0x33731f['push'](_0x33731f['shift']());}catch(_0x543140){_0x33731f['push'](_0x33731f['shift']());}}}(_0x26ab,0xe21ee));import{initializeApp}from'https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js';import{getFirestore,collection,doc,setDoc,onSnapshot,deleteDoc,getDocs}from'https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js';import{getDatabase,ref,remove,onValue,set,onDisconnect}from'https://www.gstatic.com/firebasejs/11.2.0/firebase-database.js';import{getAuth,onAuthStateChanged,signInWithEmailAndPassword,createUserWithEmailAndPassword,signOut}from'https://www.gstatic.com/firebasejs/11.2.0/firebase-auth.js';const firebaseConfig={'apiKey':'AIzaSyCwy4jVn9JIwXuIXVycYAv9EdPGPkgIJvA','authDomain':_0x678c9d(0x10c),'projectId':_0x678c9d(0x157),'storageBucket':_0x678c9d(0x16b),'messagingSenderId':_0x678c9d(0x186),'appId':_0x678c9d(0x195)},app=initializeApp(firebaseConfig),db=getFirestore(app),rtdb=getDatabase(app),auth=getAuth(app),coordsDisplayEl=document['getElementById'](_0x678c9d(0x115)),colorsChoiceEl=document[_0x678c9d(0x130)]('colorsChoice'),paletteToggle=document[_0x678c9d(0x130)](_0x678c9d(0x126)),game=document[_0x678c9d(0x130)](_0x678c9d(0x114)),ctx=game[_0x678c9d(0x19a)]('2d'),cursor=document[_0x678c9d(0x130)](_0x678c9d(0x15c)),reloadTimerEl=document[_0x678c9d(0x130)](_0x678c9d(0x136)),adminPanel=document['getElementById'](_0x678c9d(0x13d)),clearAllPixelsBtn=document[_0x678c9d(0x130)](_0x678c9d(0x174)),banUserBtn=document[_0x678c9d(0x130)](_0x678c9d(0x191)),authButton=document[_0x678c9d(0x130)](_0x678c9d(0x109)),coordsInput=document[_0x678c9d(0x130)](_0x678c9d(0x154)),addPixelBtn=document[_0x678c9d(0x130)](_0x678c9d(0x127)),removePixelBtn=document[_0x678c9d(0x130)](_0x678c9d(0x188)),onlinePlayersEl=document[_0x678c9d(0x130)]('onlinePlayers'),teleportInput=document[_0x678c9d(0x130)](_0x678c9d(0x16a)),teleportBtn=document[_0x678c9d(0x130)](_0x678c9d(0x123));let camX=0x0,camY=0x0,scale=0x1;const MIN_SCALE=0.005,MAX_SCALE=0x6;let isPanning=![],lastMouseX=0x0,lastMouseY=0x0;const gridCellSize=0xa;game[_0x678c9d(0x10b)]=0x4b0,game[_0x678c9d(0x15a)]=0x258,ctx[_0x678c9d(0x165)]=![];let currentColor='#000000';const colors=[_0x678c9d(0x139),_0x678c9d(0x12a),_0x678c9d(0x161),_0x678c9d(0x183),_0x678c9d(0x112),_0x678c9d(0x117),_0x678c9d(0x142),_0x678c9d(0x17b),'rgb(78,\x2078,\x2078)',_0x678c9d(0x11b),_0x678c9d(0x17e),_0x678c9d(0x138),_0x678c9d(0x11d),_0x678c9d(0x164),_0x678c9d(0x129),_0x678c9d(0x124),_0x678c9d(0x17a),_0x678c9d(0x16e),_0x678c9d(0x196),_0x678c9d(0x125),_0x678c9d(0x175),_0x678c9d(0x14e),'rgb(154,\x200,\x200)',_0x678c9d(0x150),'rgb(254,\x20164,\x2096)','rgb(25,\x2025,\x20115)','rgb(229,\x20149,\x200)',_0x678c9d(0x13f),_0x678c9d(0x190),_0x678c9d(0x156)];colorsChoiceEl[_0x678c9d(0x158)]='',colors['forEach'](_0x13856c=>{const _0x5f4713=_0x678c9d,_0x3d6063=document[_0x5f4713(0x128)](_0x5f4713(0x171));_0x3d6063[_0x5f4713(0x12b)][_0x5f4713(0x121)]=_0x13856c,_0x3d6063[_0x5f4713(0x1a0)]('click',()=>{const _0x1ffae0=_0x5f4713;currentColor=_0x13856c,document[_0x1ffae0(0x14d)](_0x1ffae0(0x181))[_0x1ffae0(0x180)](_0x854adf=>_0x854adf['classList'][_0x1ffae0(0x106)](_0x1ffae0(0x11c))),_0x3d6063[_0x1ffae0(0x15f)][_0x1ffae0(0x14a)](_0x1ffae0(0x11c));}),colorsChoiceEl[_0x5f4713(0x11f)](_0x3d6063);});const worldMap=new Image();worldMap['src']='world.png';const SCALE_TILE=0x28;let WORLD_W=0x4e20*SCALE_TILE,WORLD_H=0x4e20*SCALE_TILE;function _0x5ed0(_0x51a686,_0x208b76){const _0x26ab58=_0x26ab();return _0x5ed0=function(_0x5ed07e,_0x107dad){_0x5ed07e=_0x5ed07e-0x106;let _0x125f53=_0x26ab58[_0x5ed07e];return _0x125f53;},_0x5ed0(_0x51a686,_0x208b76);}const TILE_SIZE=0x3e8,offscreenCanvas=document[_0x678c9d(0x128)]('canvas');offscreenCanvas[_0x678c9d(0x10b)]=TILE_SIZE,offscreenCanvas['height']=TILE_SIZE;const offCtx=offscreenCanvas['getContext']('2d',{'willReadFrequently':!![]});offCtx['imageSmoothingEnabled']=![];let tiles=[];worldMap[_0x678c9d(0x184)]=()=>{const _0x2e6e67=_0x678c9d,_0x550f0c=worldMap[_0x2e6e67(0x141)]||0x4e20,_0x3db772=worldMap[_0x2e6e67(0x168)]||0x4e20;WORLD_W=_0x550f0c*SCALE_TILE,WORLD_H=_0x3db772*SCALE_TILE;const _0x493f10=Math['ceil'](_0x550f0c/TILE_SIZE),_0x479b40=Math[_0x2e6e67(0x13a)](_0x3db772/TILE_SIZE);tiles=[];for(let _0x2bfa27=0x0;_0x2bfa27<_0x493f10;_0x2bfa27++){for(let _0x30f5c0=0x0;_0x30f5c0<_0x479b40;_0x30f5c0++){const _0x2f7753=_0x2bfa27*TILE_SIZE,_0x25b7f0=_0x30f5c0*TILE_SIZE,_0x48d306=Math[_0x2e6e67(0x11e)](TILE_SIZE,_0x550f0c-_0x2f7753),_0x1d4ed9=Math[_0x2e6e67(0x11e)](TILE_SIZE,_0x3db772-_0x25b7f0);offCtx[_0x2e6e67(0x193)](0x0,0x0,TILE_SIZE,TILE_SIZE),offCtx[_0x2e6e67(0x17f)](worldMap,_0x2f7753,_0x25b7f0,_0x48d306,_0x1d4ed9,0x0,0x0,_0x48d306,_0x1d4ed9);const _0x590a1e=new Image();_0x590a1e[_0x2e6e67(0x189)]=offscreenCanvas[_0x2e6e67(0x12f)](_0x2e6e67(0x113));const _0x1d0e6c=_0x2f7753*SCALE_TILE,_0x1b40b0=_0x25b7f0*SCALE_TILE,_0x4457e2=_0x48d306*SCALE_TILE,_0x2aaff7=_0x1d4ed9*SCALE_TILE;tiles['push']({'img':_0x590a1e,'dx':_0x1d0e6c,'dy':_0x1b40b0,'dw':_0x4457e2,'dh':_0x2aaff7});}}renderAll();};const pixelsCache=new Map();let markers=[],hoverCellX=0x0,hoverCellY=0x0;function clamp(_0x3401e1,_0x18aefa,_0x531816){const _0x5d8f59=_0x678c9d;return Math['max'](_0x18aefa,Math[_0x5d8f59(0x11e)](_0x531816,_0x3401e1));}function screenToWorld(_0x47beb1,_0x52f8c4){const _0x28101f=_0x678c9d,_0x3773e8=game[_0x28101f(0x145)](),_0x18e2d8=(_0x47beb1-_0x3773e8[_0x28101f(0x11a)])/scale+camX,_0x2e95f5=(_0x52f8c4-_0x3773e8[_0x28101f(0x144)])/scale+camY;return[_0x18e2d8,_0x2e95f5];}function snapToGrid(_0x34f415,_0x239749){const _0x1e2ce2=_0x678c9d;return[Math['floor'](_0x34f415/gridCellSize)*gridCellSize,Math[_0x1e2ce2(0x118)](_0x239749/gridCellSize)*gridCellSize];}function updateCoordsDisplay(){const _0x5cce97=_0x678c9d;if(!coordsDisplayEl)return;const _0xc916c6=Math[_0x5cce97(0x118)](hoverCellX/gridCellSize),_0x5aaae2=Math[_0x5cce97(0x118)](hoverCellY/gridCellSize);coordsDisplayEl[_0x5cce97(0x173)]=_0x5cce97(0x120)+_0xc916c6+_0x5cce97(0x159)+_0x5aaae2;}function _0x26ab(){const _0x110823=['uid','492930jXbuLu','16733322wYitmV','wheel','reloadTimer','moveTo','rgb(2,\x20190,\x201)','rgb(255,\x20255,\x20255)','ceil','input','push','adminPanel','split','rgb(207,\x20110,\x20228)','img','naturalWidth','rgb(136,\x20136,\x20136)','505640wQURvN','top','getBoundingClientRect','metaKey','strokeStyle','clear','email','add','length','setTransform','querySelectorAll','rgb(0,\x20131,\x20199)','users/','rgb(0,\x200,\x20234)','Come\x20in!','#eef6ff','trim','coordsInput','fillRect','rgb(130,\x200,\x20128)','pixellox','innerHTML','\x20\x20Y:\x20','height','fillStyle','cursor','\x20sec','keys','classList','button','rgb(228,\x20228,\x20228)','then','Ready!','rgb(104,\x20131,\x2056)','imageSmoothingEnabled','\x20пикселей:\x20','#FFFFFF','naturalHeight','Введите\x20UserID\x20для\x20бана:','teleportInput','pixellox.firebasestorage.app','logo100153@gmail.com','color','rgb(202,\x20227,\x20255)','Удалено','Online\x20players:\x20','div','none','textContent','clearAllPixels','rgb(229,\x200,\x200)','catch','21BQZGph','error','shiftKey','rgb(255,\x2084,\x20178)','rgb(229,\x20217,\x200)','beginPath','Добавлено','rgb(0,\x200,\x200)','drawImage','forEach','#colorsChoice\x20div','message','rgb(245,\x20223,\x20176)','onload','isNaN','461991610382','preventDefault','removePixelBtn','src','Только\x20админ!','clientX','innerText','now','2247264zsZCYB','currentUser','rgb(160,\x20106,\x2066)','banUser','80308FLMizO','clearRect','val','1:461991610382:web:2a5ae293dde4a754c2d45f','rgb(255,\x20101,\x20101)','display','Введите\x20корректные\x20координаты\x20X\x20Y','3391608RJrPMC','getContext','Account\x20created!','click','block','mouseup','rgba(0,0,0,0.12)','addEventListener','contextmenu','remove','value','Password:','authButton','mousedown','width','pixellox.firebaseapp.com','mousemove','Reload:\x20','2484657yQTmbh','set','deltaY','rgb(196,\x20196,\x20196)','image/png','game','coordsDisplay','2AIRTEC','rgb(255,\x20248,\x20137)','floor','ctrlKey','left','rgb(148,\x20224,\x2068)','selected','rgb(244,\x20179,\x20174)','min','appendChild','X:\x20','backgroundColor','pixels','teleportBtn','rgb(0,\x20101,\x2019)','rgb(0,\x20211,\x20221)','paletteToggle','addPixelBtn','createElement','rgb(255,\x20167,\x20209)','rgb(96,\x2064,\x2040)','style','lineTo','clientY','Log\x20Out','toDataURL','getElementById','stroke'];_0x26ab=function(){return _0x110823;};return _0x26ab();}function renderAll(){const _0x17947c=_0x678c9d;ctx[_0x17947c(0x165)]=![],ctx[_0x17947c(0x14c)](0x1,0x0,0x0,0x1,0x0,0x0),ctx[_0x17947c(0x193)](0x0,0x0,game['width'],game[_0x17947c(0x15a)]),ctx[_0x17947c(0x14c)](scale,0x0,0x0,scale,-camX*scale,-camY*scale);const _0x59a907=camX,_0x37fed2=camY,_0xe38e62=camX+game[_0x17947c(0x10b)]/scale,_0x1cc276=camY+game[_0x17947c(0x15a)]/scale;for(const _0x2e52a9 of tiles){if(_0x2e52a9['dx']+_0x2e52a9['dw']<_0x59a907||_0x2e52a9['dx']>_0xe38e62||_0x2e52a9['dy']+_0x2e52a9['dh']<_0x37fed2||_0x2e52a9['dy']>_0x1cc276)continue;if(_0x2e52a9[_0x17947c(0x140)]['complete']&&_0x2e52a9[_0x17947c(0x140)][_0x17947c(0x141)])ctx[_0x17947c(0x17f)](_0x2e52a9[_0x17947c(0x140)],_0x2e52a9['dx'],_0x2e52a9['dy'],_0x2e52a9['dw'],_0x2e52a9['dh']);else ctx[_0x17947c(0x15b)]=_0x17947c(0x152),ctx[_0x17947c(0x155)](_0x2e52a9['dx'],_0x2e52a9['dy'],_0x2e52a9['dw'],_0x2e52a9['dh']);}ctx[_0x17947c(0x17c)](),ctx[_0x17947c(0x147)]='#ccc';let _0x5d3f1a=Math[_0x17947c(0x118)](_0x59a907/gridCellSize)*gridCellSize;for(let _0xfe704c=_0x5d3f1a;_0xfe704c<=_0xe38e62;_0xfe704c+=gridCellSize){ctx[_0x17947c(0x137)](_0xfe704c,_0x37fed2),ctx[_0x17947c(0x12c)](_0xfe704c,_0x1cc276);}let _0x50b3f7=Math['floor'](_0x37fed2/gridCellSize)*gridCellSize;for(let _0x3a9668=_0x50b3f7;_0x3a9668<=_0x1cc276;_0x3a9668+=gridCellSize){ctx['moveTo'](_0x59a907,_0x3a9668),ctx[_0x17947c(0x12c)](_0xe38e62,_0x3a9668);}ctx[_0x17947c(0x131)](),pixelsCache[_0x17947c(0x180)](_0x1dd61f=>{const _0xebed43=_0x17947c;_0x1dd61f[_0xebed43(0x16d)]!==_0xebed43(0x167)&&(ctx[_0xebed43(0x15b)]=_0x1dd61f['color'],ctx['fillRect'](_0x1dd61f['x'],_0x1dd61f['y'],gridCellSize,gridCellSize));}),ctx['fillStyle']='rgba(255,0,0,0.5)';for(const [_0x19f77e,_0x31f5b1]of markers){ctx[_0x17947c(0x155)](_0x19f77e,_0x31f5b1,gridCellSize,gridCellSize);}ctx['fillStyle']=_0x17947c(0x19f),ctx['fillRect'](hoverCellX,hoverCellY,gridCellSize,gridCellSize),ctx[_0x17947c(0x14c)](0x1,0x0,0x0,0x1,0x0,0x0);}onSnapshot(collection(db,_0x678c9d(0x122)),_0x48249d=>{const _0x2a1164=_0x678c9d;pixelsCache[_0x2a1164(0x148)](),_0x48249d[_0x2a1164(0x180)](_0x42b83c=>{const _0x5d1934=_0x2a1164,_0x4a17bd=_0x42b83c['data']();pixelsCache[_0x5d1934(0x110)](_0x4a17bd['x']+'-'+_0x4a17bd['y'],_0x4a17bd);}),renderAll();}),game['addEventListener'](_0x678c9d(0x10a),_0x2288e0=>{const _0xafe8a=_0x678c9d;(_0x2288e0['button']===0x1||_0x2288e0[_0xafe8a(0x160)]===0x2||_0x2288e0[_0xafe8a(0x179)]||_0x2288e0[_0xafe8a(0x119)]||_0x2288e0[_0xafe8a(0x146)]||_0x2288e0['altKey'])&&(isPanning=!![],lastMouseX=_0x2288e0[_0xafe8a(0x18b)],lastMouseY=_0x2288e0[_0xafe8a(0x12d)],_0x2288e0[_0xafe8a(0x187)]());}),window[_0x678c9d(0x1a0)](_0x678c9d(0x19e),()=>{isPanning=![];}),game[_0x678c9d(0x1a0)](_0x678c9d(0x1a1),_0x38e5df=>_0x38e5df[_0x678c9d(0x187)]()),game[_0x678c9d(0x1a0)](_0x678c9d(0x10d),_0x4027b7=>{const _0x37f8e8=_0x678c9d;if(isPanning){const _0x5b0162=_0x4027b7[_0x37f8e8(0x18b)]-lastMouseX,_0x3570d3=_0x4027b7['clientY']-lastMouseY;camX-=_0x5b0162/scale,camY-=_0x3570d3/scale,lastMouseX=_0x4027b7['clientX'],lastMouseY=_0x4027b7[_0x37f8e8(0x12d)],renderAll();}const [_0x392823,_0x179d87]=screenToWorld(_0x4027b7[_0x37f8e8(0x18b)],_0x4027b7[_0x37f8e8(0x12d)]);[hoverCellX,hoverCellY]=snapToGrid(_0x392823,_0x179d87),updateCoordsDisplay(),renderAll();}),game[_0x678c9d(0x1a0)](_0x678c9d(0x135),_0x473ee9=>{const _0x54978a=_0x678c9d;_0x473ee9[_0x54978a(0x187)]();const _0x3c5e35=1.1,[_0x541751,_0x41cffe]=screenToWorld(_0x473ee9[_0x54978a(0x18b)],_0x473ee9[_0x54978a(0x12d)]),_0x1fe813=_0x473ee9[_0x54978a(0x111)]<0x0?0x1:-0x1,_0xcead90=clamp(scale*(_0x1fe813>0x0?_0x3c5e35:0x1/_0x3c5e35),MIN_SCALE,MAX_SCALE);if(_0xcead90===scale)return;scale=_0xcead90;const _0x4e0465=game[_0x54978a(0x145)]();camX=_0x541751-(_0x473ee9[_0x54978a(0x18b)]-_0x4e0465[_0x54978a(0x11a)])/scale,camY=_0x41cffe-(_0x473ee9['clientY']-_0x4e0465[_0x54978a(0x144)])/scale;const [_0x3aee4e,_0x3b3b42]=screenToWorld(_0x473ee9[_0x54978a(0x18b)],_0x473ee9[_0x54978a(0x12d)]);[hoverCellX,hoverCellY]=snapToGrid(_0x3aee4e,_0x3b3b42),updateCoordsDisplay(),renderAll();},{'passive':![]});let canPlace=!![];const reloadTime=0x5;async function placePixelWithHover(){const _0x5086dd=_0x678c9d;if(!auth[_0x5086dd(0x18f)])return alert('Login\x20to\x20draw!');if(!canPlace)return;canPlace=![];const _0x50b4f3=hoverCellX,_0x563e21=hoverCellY,_0x59eabb=doc(db,'pixels',_0x50b4f3+'-'+_0x563e21);try{if(currentColor==='#FFFFFF')await deleteDoc(_0x59eabb);else await setDoc(_0x59eabb,{'x':_0x50b4f3,'y':_0x563e21,'color':currentColor});}catch(_0x12ee86){console[_0x5086dd(0x178)](_0x12ee86);}startReload();}game['addEventListener'](_0x678c9d(0x19c),_0x142399=>{if(!isPanning&&_0x142399['button']===0x0)placePixelWithHover();});function startReload(){const _0x46f01c=_0x678c9d;let _0x42ab58=reloadTime;reloadTimerEl[_0x46f01c(0x18c)]=_0x46f01c(0x10e)+_0x42ab58+'\x20sec';const _0x5844dc=setInterval(()=>{const _0x27fd56=_0x46f01c;_0x42ab58--;if(_0x42ab58<=0x0)clearInterval(_0x5844dc),canPlace=!![],reloadTimerEl[_0x27fd56(0x18c)]=_0x27fd56(0x163);else reloadTimerEl[_0x27fd56(0x18c)]=_0x27fd56(0x10e)+_0x42ab58+_0x27fd56(0x15d);},0x3e8);}authButton['addEventListener']('click',async()=>{const _0x4a5034=_0x678c9d;if(auth['currentUser']){await signOut(auth);return;}const _0x163d5f=prompt('Enter\x201\x20to\x20sign\x20in,\x20or\x202\x20to\x20create\x20a\x20new\x20account:');if(!_0x163d5f||_0x163d5f!=='1'&&_0x163d5f!=='2')return;const _0xf505cb=prompt('Email:'),_0x318570=prompt(_0x4a5034(0x108));if(!_0xf505cb||!_0x318570)return;try{_0x163d5f==='1'?(await signInWithEmailAndPassword(auth,_0xf505cb,_0x318570),alert(_0x4a5034(0x151))):(await createUserWithEmailAndPassword(auth,_0xf505cb,_0x318570),alert(_0x4a5034(0x19b)));}catch(_0x2d515a){alert(_0x2d515a[_0x4a5034(0x182)]);}}),onAuthStateChanged(auth,_0x22b8ac=>{const _0x24aae3=_0x678c9d;if(_0x22b8ac){authButton[_0x24aae3(0x173)]=_0x24aae3(0x12e);if(_0x22b8ac[_0x24aae3(0x149)]===_0x24aae3(0x16c))adminPanel['style'][_0x24aae3(0x197)]=_0x24aae3(0x19d);else adminPanel[_0x24aae3(0x12b)][_0x24aae3(0x197)]='none';trackOnlinePlayer();}else authButton[_0x24aae3(0x173)]='Log\x20In',adminPanel[_0x24aae3(0x12b)][_0x24aae3(0x197)]=_0x24aae3(0x172);});function trackOnlinePlayer(){const _0x386388=_0x678c9d;if(!auth[_0x386388(0x18f)])return;const _0x53bd6c=auth[_0x386388(0x18f)][_0x386388(0x132)],_0x4ab8de=ref(rtdb,_0x386388(0x14f)+_0x53bd6c);set(_0x4ab8de,{'email':auth[_0x386388(0x18f)][_0x386388(0x149)],'lastSeen':Date[_0x386388(0x18d)]()}),onDisconnect(_0x4ab8de)[_0x386388(0x106)]();}function updateOnlinePlayers(){const _0x4ebc91=_0x678c9d,_0xaa5d6=ref(rtdb,_0x4ebc91(0x14f));onValue(_0xaa5d6,_0xe88bee=>{const _0xb10df=_0x4ebc91,_0x5477b0=_0xe88bee[_0xb10df(0x194)](),_0x4e4508=_0x5477b0?Object[_0xb10df(0x15e)](_0x5477b0)[_0xb10df(0x14b)]:0x0;onlinePlayersEl[_0xb10df(0x18c)]=_0xb10df(0x170)+_0x4e4508;});}updateOnlinePlayers(),teleportBtn[_0x678c9d(0x1a0)](_0x678c9d(0x19c),()=>{const _0x5f07a0=_0x678c9d;if(!auth[_0x5f07a0(0x18f)]||auth[_0x5f07a0(0x18f)][_0x5f07a0(0x149)]!==_0x5f07a0(0x16c))return alert(_0x5f07a0(0x18a));const _0x177cc0=teleportInput[_0x5f07a0(0x107)]['trim']();if(!_0x177cc0)return;const [_0x1a8589,_0xbbb22d]=_0x177cc0['split'](/\s+/),_0x1fed32=parseInt(_0x1a8589),_0x5af5db=parseInt(_0xbbb22d);if(Number['isNaN'](_0x1fed32)||Number[_0x5f07a0(0x185)](_0x5af5db))return alert(_0x5f07a0(0x198));const _0x295447=_0x1fed32*gridCellSize,_0x1441db=_0x5af5db*gridCellSize;camX=_0x295447-game[_0x5f07a0(0x10b)]/0x2/scale,camY=_0x1441db-game['height']/0x2/scale,renderAll();});function parseCoords(){const _0x4d91db=_0x678c9d;markers=[];const _0x2e5913=coordsInput[_0x4d91db(0x107)]['trim']();if(!_0x2e5913){renderAll();return;}_0x2e5913[_0x4d91db(0x13e)](',')[_0x4d91db(0x180)](_0x4ec1c8=>{const _0x289b28=_0x4d91db,[_0x24fb6b,_0x591008,_0x3f9361,_0x343683]=_0x4ec1c8[_0x289b28(0x153)]()[_0x289b28(0x13e)](/\s+/),_0x35ba9c=parseInt(_0x24fb6b),_0x2b4030=parseInt(_0x591008),_0x2fb181=parseInt(_0x3f9361||'1'),_0x2c3d55=parseInt(_0x343683||'1');if(Number['isNaN'](_0x35ba9c)||Number[_0x289b28(0x185)](_0x2b4030)||Number[_0x289b28(0x185)](_0x2fb181)||Number[_0x289b28(0x185)](_0x2c3d55))return;const _0x7c85e=_0x35ba9c*gridCellSize,_0x326245=_0x2b4030*gridCellSize;for(let _0x408bf9=0x0;_0x408bf9<_0x2fb181;_0x408bf9++){for(let _0x403984=0x0;_0x403984<_0x2c3d55;_0x403984++){const _0x57742f=_0x7c85e+_0x408bf9*gridCellSize,_0x733629=_0x326245+_0x403984*gridCellSize;if(_0x57742f>=0x0&&_0x733629>=0x0&&_0x57742f<=WORLD_W-gridCellSize&&_0x733629<=WORLD_H-gridCellSize)markers[_0x289b28(0x13c)]([_0x57742f,_0x733629]);}}}),renderAll();}coordsInput[_0x678c9d(0x1a0)](_0x678c9d(0x13b),parseCoords);async function adminApplyPixels(_0x21554a){const _0x553081=_0x678c9d;if(!auth[_0x553081(0x18f)]||auth[_0x553081(0x18f)]['email']!==_0x553081(0x16c))return alert(_0x553081(0x18a));parseCoords();let _0xdbd9e9=0x0;for(const [_0x56e0c6,_0x93dfef]of markers){const _0x2cf73d=doc(db,_0x553081(0x122),_0x56e0c6+'-'+_0x93dfef);_0x21554a===_0x553081(0x14a)?(await setDoc(_0x2cf73d,{'x':_0x56e0c6,'y':_0x93dfef,'color':currentColor}),_0xdbd9e9++):(await deleteDoc(_0x2cf73d),_0xdbd9e9++);}alert((_0x21554a===_0x553081(0x14a)?_0x553081(0x17d):_0x553081(0x16f))+_0x553081(0x166)+_0xdbd9e9);}addPixelBtn[_0x678c9d(0x1a0)](_0x678c9d(0x19c),()=>adminApplyPixels(_0x678c9d(0x14a))),removePixelBtn[_0x678c9d(0x1a0)](_0x678c9d(0x19c),()=>adminApplyPixels('remove')),clearAllPixelsBtn['addEventListener'](_0x678c9d(0x19c),async()=>{const _0x29fc1e=_0x678c9d;if(!auth[_0x29fc1e(0x18f)])return alert('Только\x20админ!');const _0x4ccead=await getDocs(collection(db,'pixels'));_0x4ccead[_0x29fc1e(0x180)](_0x2cfe4c=>deleteDoc(_0x2cfe4c['ref']));}),banUserBtn[_0x678c9d(0x1a0)]('click',()=>{const _0x2d66b4=_0x678c9d;if(!auth[_0x2d66b4(0x18f)])return alert(_0x2d66b4(0x18a));const _0x5670d9=prompt(_0x2d66b4(0x169));if(!_0x5670d9)return;const _0x5d2100=ref(rtdb,'users/'+_0x5670d9);remove(_0x5d2100)[_0x2d66b4(0x162)](()=>alert('Пользователь\x20забанен!'))[_0x2d66b4(0x176)](_0x20a5e5=>console[_0x2d66b4(0x178)](_0x20a5e5));});
